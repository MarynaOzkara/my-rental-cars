{"version":3,"file":"static/js/791.9e977127.chunk.js","mappings":"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","sources":["components/FiltersBar/FiltersBar.styled.js","components/Selects/SelectPrice/SelectPrice.styled.js","components/Selects/SelectPrice/SelectPrice.jsx","components/Selects/SelectModel/SelectModel.styled.js","components/Selects/SelectModel/SelectModel.jsx","components/Buttons/SearchButton.jsx","components/FiltersBar/FiltersBar.jsx","components/Buttons/LoadMoreBtn.jsx","pages/Catalog.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const FiltersForm = styled.form`\n  width: 859px;\n  margin: 0 auto;\n  display: flex;\n  gap: 18px;\n  align-items: self-end;\n  justify-content: space-between;\n`;\nexport const InputsWrap = styled.div`\n  height: 48px;\n  display: flex;\n`;\nexport const Label = styled.label`\n  font-size: var(--fs-sm);\n  font-weight: var(--fw-normal);\n  line-height: 18px;\n  color: var(--color-label);\n`;\nexport const MileageWrap = styled.div`\n  width: 320px;\n`;\nexport const LeftInput = styled.input`\n  width: 160px;\n  border-bottom-left-radius: 14px;\n  border-top-left-radius: 14px;\n  font-size: var(--fs-lg);\n  color: var(--color-black);\n  border: none;\n  outline: none;\n  background-color: var(--color-input);\n\n  &::placeholder {\n    color: var(--color-black);\n    padding-left: 24px;\n  }\n`;\nexport const RightInput = styled.input`\n  width: 160px;\n  border-top-right-radius: 14px;\n  border-bottom-right-radius: 14px;\n  font-size: var(--fs-lg);\n  color: var(--color-black);\n  border: none;\n  outline: none;\n  background-color: var(--color-input);\n  border-left: 1px solid rgba(138, 138, 137, 0.2);\n\n  &::placeholder {\n    color: var(--color-black);\n    padding-left: 24px;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const PriceSelectWrap = styled.div`\n  width: 125px;\n`;\nexport const PriceLabel = styled.label`\n  color: var(--color-label);\n  font-size: var(--fs-sm);\n  font-weight: var(--fw-normal);\n  line-height: 18px;\n`;\n","import Select from 'react-select';\nimport { PriceSelectWrap, PriceLabel } from './SelectPrice.styled';\n\nimport '../style.css';\n\nconst SelectPrice = ({ value, onChange }) => {\n  const priceStep = [];\n  for (let i = 30; i <= 500; i += 10) {\n    priceStep.push({ value: i, label: `${i}` });\n  }\n\n  return (\n    <PriceSelectWrap>\n      <PriceLabel htmlFor=\"selectPrice\">Price / 1 hour</PriceLabel>\n      <Select\n        id=\"selectPrice\"\n        options={priceStep}\n        value={value}\n        onChange={onChange}\n        placeholder=\"To $\"\n        classNamePrefix=\"custom-select\"\n        components={{\n          IndicatorSeparator: () => null,\n        }}\n      />\n    </PriceSelectWrap>\n  );\n};\n\nexport default SelectPrice;\n","import styled from 'styled-components';\n\nexport const SelectWrap = styled.div`\n  width: 224px;\n`;\nexport const Label = styled.label`\n  color: var(--color-label);\n  font-size: var(--fs-sm);\n  font-weight: var(--fw-normal);\n  line-height: 18px;\n`;\n","import Select from 'react-select';\nimport { SelectWrap, Label } from './SelectModel.styled';\nimport { useEffect, useState } from 'react';\nimport { getBrands } from '../../../redux/rentalCars-api';\n\nimport '../style.css';\n\nconst SelectModel = ({ value, onChange }) => {\n  const [brandsList, setBrandsList] = useState('');\n\n  useEffect(() => {\n    const fetchBrends = async () => {\n      try {\n        const brands = await getBrands();\n        const brandsList = brands.map(brand => ({\n          value: brand.value,\n          label: brand.label,\n        }));\n        setBrandsList(brandsList);\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    fetchBrends();\n  }, []);\n\n  return (\n    <SelectWrap>\n      <Label htmlFor=\"brandSelect\">Car brand</Label>\n      {brandsList && (\n        <Select\n          id=\"brandSelect\"\n          options={brandsList}\n          value={value}\n          onChange={onChange}\n          placeholder=\"Enter the text\"\n          classNamePrefix=\"custom-select\"\n          components={{\n            IndicatorSeparator: () => null,\n          }}\n        />\n      )}\n    </SelectWrap>\n  );\n};\n\nexport default SelectModel;\n","import { ButtonSearch } from './Buttons.styled';\n\nconst SearchButton = () => {\n  return <ButtonSearch>Search</ButtonSearch>;\n};\n\nexport default SearchButton;\n","import {\n  FiltersForm,\n  MileageWrap,\n  Label,\n  InputsWrap,\n  LeftInput,\n  RightInput,\n} from './FiltersBar.styled';\nimport SelectPrice from '../Selects/SelectPrice/SelectPrice';\nimport { useDispatch } from 'react-redux';\n\nimport { getAllAdverts } from '../../redux/rentalCars-api';\nimport SelectModel from 'components/Selects/SelectModel/SelectModel';\nimport SearchButton from 'components/Buttons/SearchButton';\n\nimport { Controller, useForm } from 'react-hook-form';\n\nimport { setResetState } from '../../redux/adverts/advertsSlice';\n\nconst FiltersBar = () => {\n  const dispatch = useDispatch();\n\n  const { register, handleSubmit, control } = useForm();\n  const submitData = data => {\n    let filters = { brand: '', price: '' };\n    if (data.brands) {\n      const currentBrand = data.brands.value;\n\n      filters = { brand: currentBrand };\n    }\n    if (data.price) {\n      const currentPrice = data.price.label;\n      filters = { price: currentPrice };\n    }\n    if (data.brands && data.price) {\n      const currentBrand = data.brands.value;\n      const currentPrice = data.price.label;\n      filters = { brand: currentBrand, price: currentPrice };\n    }\n    // console.log(filters);\n\n    dispatch(\n      getAllAdverts({ brand: filters.brand, rentalPrice: filters.price })\n    );\n    dispatch(setResetState());\n  };\n\n  return (\n    <>\n      <FiltersForm onSubmit={handleSubmit(submitData)}>\n        <Controller\n          control={control}\n          name=\"brands\"\n          render={({ field: { value, onChange } }) => (\n            <>\n              <SelectModel value={value} onChange={onChange} />\n            </>\n          )}\n        />\n        <Controller\n          control={control}\n          name=\"price\"\n          render={({ field: { value, onChange } }) => (\n            <>\n              <SelectPrice value={value} onChange={onChange} />\n            </>\n          )}\n        />\n        <MileageWrap>\n          <Label>Ð¡ar mileage / km</Label>\n          <InputsWrap>\n            <LeftInput\n              placeholder=\"From\"\n              {...register('from', { min: 1000 })}\n            />\n            <RightInput placeholder=\"To\" {...register('to', { max: 10000 })} />\n          </InputsWrap>\n        </MileageWrap>\n        <SearchButton />\n      </FiltersForm>\n    </>\n  );\n};\n\nexport default FiltersBar;\n","import { LoadMoreBtn } from './Buttons.styled';\nconst LoadMore = ({ onLoadMore }) => {\n  return <LoadMoreBtn onClick={onLoadMore}>Load more</LoadMoreBtn>;\n};\n\nexport default LoadMore;\n","import { useEffect, useState } from 'react';\nimport FiltersBar from '../components/FiltersBar/FiltersBar';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllAdverts } from '../redux/rentalCars-api';\nimport {\n  selectAdverts,\n  selectError,\n  selectIsLoading,\n  selectTotal,\n} from '../redux/selectors';\nimport AdvertsList from '../components/AdvertsList/AdvertsList';\nimport LoadMore from 'components/Buttons/LoadMoreBtn';\nimport Loader from 'components/Loader/Loader';\nimport {\n  MessageWrap,\n  MessageText,\n} from 'components/SharedLayout/SharedLayout.styled';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const adverts = useSelector(selectAdverts);\n  const isLoading = useSelector(selectIsLoading);\n  const isError = useSelector(selectError);\n  const total = useSelector(selectTotal);\n  const [page, setPage] = useState(1);\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n  useEffect(() => {\n    dispatch(getAllAdverts({ page: page }));\n  }, [dispatch, page]);\n  console.log(adverts);\n  return (\n    <>\n      <FiltersBar />\n      {isLoading && <Loader />}\n      {isError && (\n        <MessageWrap>\n          <MessageText> Car not found</MessageText>\n        </MessageWrap>\n      )}\n      {adverts && <AdvertsList adverts={adverts} />}\n      {total >= 8 && total !== null && !isError && !isLoading && (\n        <LoadMore onLoadMore={onLoadMore} />\n      )}\n    </>\n  );\n};\n\nexport default Catalog;\n"],"names":["FiltersForm","styled","InputsWrap","Label","MileageWrap","LeftInput","RightInput","PriceSelectWrap","PriceLabel","value","onChange","priceStep","i","push","label","htmlFor","id","options","placeholder","classNamePrefix","components","IndicatorSeparator","SelectWrap","useState","brandsList","setBrandsList","useEffect","fetchBrends","getBrands","brands","map","brand","console","log","message","dispatch","useDispatch","useForm","register","handleSubmit","control","onSubmit","data","filters","price","getAllAdverts","rentalPrice","setResetState","name","render","field","min","max","onLoadMore","onClick","adverts","useSelector","selectAdverts","isLoading","selectIsLoading","isError","selectError","total","selectTotal","page","setPage","Loader","AdvertsList","prevPage"],"sourceRoot":""}